var faveLink='<a href="#" id="addfave" data-role="button" data-inline="true" data-mini="true" data-icon="heart" data-iconpos="notext" class="btn-fav ui-btn ui-shadow ui-btn-corner-all ui-mini ui-btn-inline ui-btn-icon-notext ui-btn-up-d" data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" data-theme="d" title="Favorite"><span class="ui-btn-inner"><span class="ui-btn-text">Favorite</span><span class="ui-icon ui-icon-heart ui-icon-shadow">&nbsp;</span></span></a>';var txtFavorited='<a href="#" id="unfave"  data-role="button" data-inline="true" data-mini="true" data-icon="heart" data-iconpos="notext" class="selected btn-fav ui-btn ui-shadow ui-btn-corner-all ui-mini ui-btn-inline ui-btn-icon-notext ui-btn-up-d" data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" data-theme="d" title="Favorite"><span class="ui-btn-inner"><span class="ui-btn-text">Favorite</span><span class="ui-icon ui-icon-heart ui-icon-shadow">&nbsp;</span></span></a>';var codeFave="a";function successFave(b){var c=b.data.id;var a=b.data.type;if(!faveActive){return}faveActive=false;hmajaxFave.setType(a).update(c,null,{type:a},function(f){faveActive=true;var e=hmajax.parseJSON(f);if(e.error){return false}var d;switch(this.successOptions.type){case"video":d=".video-block";break;case"model":d=".model-block";break;case"dvd":d=".dvd-block";break;case"photo":d=".photo-block";break;case"mag":d=".mag-block";break}if(e[a][c]){if(e[a][c]["fav"]==1){$("#fave").empty().append(txtFavorited);$(d+' a[data-scene-click="'+c+'"]').addClass("selected");$("#unfave").on("vclick",{id:c,type:a},successFave)}else{$("#fave").empty().append(faveLink);$(d+' a[data-scene-click="'+c+'"]').removeClass("selected");$("#addfave").on("vclick",{id:c,type:a},successFave)}}})}function bindFave(b,a,d,c){if($.siteType()!="members"){return true}hmajaxFave.setUrl(c).setType(b).setCode(codeFave);bindFaveButton(b,a,d)}function bindFaveButton(b,a,c){if(a.in_favorites==1||(b=="dvd"&&a.in_favorites!==null)||(b=="model"&&a.in_favorites!==null)){$("#fave").empty().append(txtFavorited);$("#unfave").on("vclick",{id:c,type:b},successFave)}else{$("#fave").empty().append(faveLink);$("#addfave").on("vclick",{id:c,type:b},successFave)}}var loadFavorites=function(c,b){if($.siteType()!="members"){return true}var a=[];if(hmCon.query.page=="home"){$("li"+b).each(function(){a.push($(this).attr("data-content-id"))})}else{$("div"+b).each(function(){a.push($(this).attr("data-content-id"))})}hmajaxFave.setType(c).statusList(a,c,function(e){var d=hmajax.parseJSON(e);if(d.error){console.log(d.error);return false}for(var f in d.fav_status){var g=$(b+' a[data-scene-click="'+f+'"] .ui-btn-inner .ui-icon-plus');if(d.fav_status[f]=="1"){$(b+' a[data-scene-click="'+f+'"]').addClass("selected")}else{$(b+' a[data-scene-click="'+f+'"]').removeClass("selected")}}})};var successFaveToggle=function(d,c){if(!faveActive){return}var a,b;switch(c){case"videos":a=".video-block";b="video";break;case"models":a=".model-block";b="model";break;case"dvds":a=".dvd-block";b="dvd";break;case"photos":a=".photo-block";b="photo";break;case"mags":a=".mag-block";b="mag";break}faveActive=false;hmajaxFave.setType(b).update(d,null,{},function(f){var e=hmajax.parseJSON(f);faveActive=true;if(e[b][d].fav=="1"){$(a+' a[data-scene-click="'+d+'"]').addClass("selected")}else{$(a+' a[data-scene-click="'+d+'"]').removeClass("selected")}})};