lastId=0;var hmajax={url:null,pageBarUrl:null,query:{page:0,type:"videos",order:0,filters:null,code:null},pagebar:{totalRecords:null,currentPage:null,perPage:null,siteType:null,pagebars:null},scenesRendered:{videos:[],photos:[],photodetail:[],models:[],dvds:[],mags:[]},scenesLoaded:{videos:[],photos:[],photodetail:[],models:[],dvds:[],mags:[]},newPage:null,clearScenes:function(){this.scenesRendered={videos:[],photos:[],photodetail:[],models:[],dvds:[],mags:[]};this.scenesLoaded={videos:[],photos:[],photodetail:[],models:[],dvds:[],mags:[]}},getFave:function(a,b){this.query.filters=[];this.query.filters.fav=1;this.get(a,b)},getSite:function(c,a,b){this.query.filters=[];this.query.filters.s=c;this.get(a,b)},getCategory:function(b,a,c){this.query.filters=[];this.query.filters.cat=b;this.get(a,c)},getModel:function(c,a,b){this.query.filters=[];this.query.filters.mod=c;this.get(a,b)},setModel:function(a){this.query.filters.mod=a},setCategory:function(a){this.query.filters.cat=a},setPhotosetSceneId:function(a){this.query.filters.photoset_id=a},setSearchString:function(a){this.query.filters.search_text=a},setSearchCategory:function(a){this.query.filters.search_category=a},setSite:function(a){if(this.query.filters==null){this.query.filters=[]}this.query.filters.s=a},setType:function(a){this.query.type=a},setFav:function(){if(this.query.filters==null){this.query.filters=[]}this.query.filters.fav=1},setOrder:function(a){this.query.order=a},setOrderFeatured:function(){this.setOrder(1)},setOrderOldest:function(){this.setOrder(2)},setOrderViews:function(){this.setOrder(3)},setOrderTop:function(){this.setOrder(4)},setOrderWatch:function(){this.setOrder(5)},setOrderUpcoming:function(){this.setOrder(6)},addFilters:function(){if(this.query.filters==null){return""}var b="";for(var a in this.query.filters){b+=a+"="+this.query.filters[a]+"|"}return b},makeRequest:function(){if(this.query.filters==null){return this.url+"get/con/"+this.query.type+"/"+this.query.order+"/"+this.query.page+"/"}return this.url+"get/con/"+this.query.type+"/"+this.query.order+"/"+this.addFilters()+"/"+this.query.code+"/"+this.query.page+"/"},makeRequestData:function(){return""},getDvd:function(b,c,d,a){$.ajaxSetup({});$.ajax({myobj:this,url:this.url+"get/con/dvd/"+b+"/"+c+"/",siteType:$.siteType(),type:"GET",data:"",cache:false,successOptions:a}).done(d)},getDetailDvd:function(b,a,d){var c=1;$.ajaxSetup({});$.ajax({myobj:this,url:this.url+"get/con/dvddetail/"+b+"/"+c+"/",siteType:$.siteType(),type:"GET",data:"",cache:false,successOptions:a}).done(d)},getDetailMag:function(b,a,d){var c=1;$.ajaxSetup({});$.ajax({myobj:this,url:this.url+"get/con/magdetail/"+b+"/"+c+"/",siteType:$.siteType(),type:"GET",data:"",cache:false,successOptions:a}).done(d)},getDetailModel:function(c,a,d){var b=1;$.ajaxSetup({});$.ajax({myobj:this,url:this.url+"get/con/modeldetail/"+c+"/"+b+"/",siteType:$.siteType(),type:"GET",data:"",cache:false,successOptions:a}).done(d)},getDetailScene:function(b,a,d){var c=1;$.ajaxSetup({});$.ajax({myobj:this,url:this.url+"get/con/scene/"+b+"/"+c+"/",siteType:$.siteType(),type:"GET",data:"",cache:false,successOptions:a}).done(d)},getSitesList:function(a,b){$.ajax({myobj:this,url:this.url+"get/con/sites/",siteType:$.siteType(),type:"GET",data:"",cache:false,successOptions:a}).done(b)},get:function(g,h,e,c){this.newPage=h;if(g==false){g=this.query.page+1;this.setPage(g)}else{this.setPage(g)}$.ajaxSetup({});var b=function(m){var j=this.myobj.parseJSON(m);var l=1;l=parseFloat(this.myobj.query.page)+1;if(this.myobj.newPage==true){$("#ajax-content").html(this.myobj.print(j))}else{$("#ajax-content").append(this.myobj.print(j))}if(l>j.info.totalPages){$("#ajax-more").empty()}else{$("#ajax-more").html("Load Page "+l+" Clips")}$("#ajax-more").attr("data-page",l);$("#ajax-bar").attr("data-max",parseFloat(j.info.totalPages));$("#ajax-bar").attr("data-curr",parseFloat(j.info.currentPage));this.myobj.pagebar.totalRecords=j.info["totalRecords"];this.myobj.pagebar.currentPage=j.info["currentPage"];this.myobj.pagebar.perPage=j.info["params"]["perPage"];this.myobj.pagebar.siteType=this.siteType;for(var k=0;k<this.myobj.pagebar.pagebars.length;k++){var o=this.myobj.pagebar.pagebars[k].pagesShown;var n=this.myobj.pagebar.pagebars[k].pagebarId;this.myobj.makePagebar(o,n)}this.myobj.placeAd();hmajaxFave.setUrl(this.myobj.url).setPhone().setType("video");$(".favorite").bind("click",function(i){if(!faveActive){return}faveActive=false;hmajaxFave.update($(this).attr("data-fave"),this)})};var a;if(e===undefined){a=b}else{a=e}if(c===undefined){c={}}var d=this.makeRequest();var f=this.makeRequestData();$.ajax({myobj:this,url:d,siteType:$.siteType(),type:"GET",data:f,cache:false,successOptions:c}).done(a).error(function(){console.log("error!")})},setUrl:function(a){this.url=a;this.pageBarUrl=a+"get/pagebar/"},setPage:function(a){this.query.page=a},setCode:function(a){this.query.code=a},initPagebar:function(b,c){if(this.pagebar.pagebars==null){this.pagebar.pagebars=[]}var a=[];a.pagesShown=b;a.pagebarId=c;this.pagebar.pagebars.push(a)},makePagebarRequest:function(a){return this.pageBarUrl+this.pagebar.totalRecords+"/"+this.pagebar.perPage+"/"+this.pagebar.currentPage+"/"+a+"/"},makePagebar:function(b,a){$.ajax({myobj:this,type:"GET",url:this.makePagebarRequest(b),data:"",cache:false,success:function(d){$(a).empty();var g=$(d);var c=this;g.find("a").each(function(h){if($(this).attr("data-page")>0){$(this).bind("click",function(){c.myobj.get($(this).attr("data-page"),true)})}});$(a).append(g);pagebarInit();if(showHelpText==true){$("#pagehelp").css("display","block");$("#pagehelp").bind("inview",helpText)}var e=$("#ajax-newclip").attr("data-clip");var f=$(e).offset();window.scrollTo(f.left,f.top)}})},parse:function(b){var d=this.parseJSON(b);var c;for(var a in d.videos){c.title=d.data[a]["title"]}},parseJSON:function(a){var b;try{b=JSON.parse(a,function(d,f){var e;if(f&&typeof f==="object"){e=f.type;if(typeof e==="string"&&typeof window[e]==="function"){return new (window[e])(f)}}return f})}catch(c){console.log("JSON PARSE FAILED!");return null}return b},placeAd:function(){},print:function(b){var q=self;var g=b.misc["site_type"];var z=b.misc["mobile_images"];var j=b.misc["mobile_url"];var v=b.misc["reset"];var x=b.misc["session_page_count"];var h=b.misc["tour_play_limit"];var c=b.misc["session_tour_plays"];var f=b.misc["tour_reset"];var r=b.misc["tour_max_pages"];var k=b.misc["current_page_url"];var t="";var m=null;for(var p in b.videos){var y=b.videos[p]["title"];var s=b.videos[p]["clip"];var d=lastId;if(m==null){m=d}lastId++;var n=b.videos[p]["ss"];var u=b.videos[p]["date"];var e=b.videos[p]["fav_status"];var l=b.videos[p]["str_cat"];var o=b.videos[p]["description"];var a=b.videos[p]["performers"];var w=b.videos[p]["scene_id"];t+='                        <!--///////////////////////////////////////start scene //////////////////////////////////////////////-->                         <div class="scene" id="scene_'+d+'">                             <div class="scene_play_button">                                 <a href="'+s+'"><img src="'+z+'play_button.png" data-target="'+s+'"></a>             <!--img src="'+z+'play_button.png" data-target="'+s+'"-->                         </div>                         <!--a href="'+s+'"--><img src="'+n+'" class="scene_image" data-target="'+s+'" /><!--/a-->                         <div style="position:relative;top:15px;">&nbsp;</div>                         <div class="info_frame">                             <h1><a name="clip_'+d+'" id="clip_'+d+'"></a>'+y+'</h1>                                 <div class="info" id="more_'+d+'" style="float:none;text-align:right;position:relative;top:-16px;border:none;">                                     <a href="#" id="more_detail_'+d+'" class="more_link" style="margin-right:auto;margin-left:auto;text-align:center;"                                     onClick="javascript:descClick(document.getElementById(\'more_'+d+"'),document.getElementById('info_"+d+"'),document.getElementById('less_"+d+'\'));return false;"><img src="'+z+'plus.jpg" style="width:20px;border:none" /></a>                                 </div>                                 <div class="info" id="less_'+d+'" style="display:none;float:none;text-align:right;position:relative;top:-21px;left:4px;border:none;">                                     <a href="#" id="less_detail_'+d+'" class="more_link" style="margin-right:auto;margin-left:auto;text-align:center;"                                        onClick="javascript:descClickLess(document.getElementById(\'more_'+d+"'),document.getElementById('info_"+d+"'), document.getElementById('less_"+d+'\'));return false;"><img src="'+z+'minus.jpg" style="width:25px;border:none;" /></a>                                 </div>                             <div class="info" id="info_'+d+'" style="display:none;float:none;">                                 <p class="released">Released: '+u+"</p>";if(g!="tour"){t+='                                <p class="favorite" data-fave="'+w+'"><img src="'+z+'icon_menu_favorite.png" style="width:8px;border:none;"/>';if(e!=1){t+="Favorite this"}else{t+="Unfavorite this"}t+="</p>"}t+='                                 <p class="categories">Categories: '+l+'</p>                                 <p class="description" id="desc_'+d+'">'+o+'</p>                                 <p class="performers">Pornstars: '+a+"</p>";if(g=="tour"&&true===f){t+='<p class="testtext"><a href="'+j+v+'">Trailer Clips played:'+c+" / "+h;t+="&nbsp;&nbsp;&nbsp;Video pages browsed: "+x+"/"+r+" </a> (refresh screen to update) </p>"}t+="                             </div><!--end info -->                         </div>                     </div>             <!--///////////////////////////////////////end scene //////////////////////////////////////////////-->             "}$("#ajax-newclip").attr("data-clip","#scene_"+m);return t}};